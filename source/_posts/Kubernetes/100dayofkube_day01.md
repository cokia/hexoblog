---
title : [쿠버네티스] DAY01 - 쿠버네티스란? 
date : 2021-05-10 00:39:29 
categories : Kubernetes 
tags : [kubernetes,100DaysOfKubernetes,쿠버네티스,서버,클라우드,컨테이너]

---
![](https://i.imgur.com/4VsZ92N.png)


> 먼저, 이 글은 필자가 [100DaysOfKubernetes](https://github.com/100daysofkubernetes/100DaysOfKubernetes) 라는 오픈소스 깃북의 내용을 한국어로 정리하며 개인적으로 공부하는 내용들을 합쳐서 블로그에 하루에 하나씩 작성하는 프로젝트의 일부로 작성된 글임을 밝힌다. 만약 본문 내용에서 오류를 발견한다면 꼭 댓글이나 [필자의 이메일](mailto:hanu@hanukoon.com) 로 연락을 부탁한다.


# DAY1 - intro to k8s

## 쿠버네티스 란?
쿠버네티스(k8s) 는 "오픈소스 컨테이너 오케스트레이션 프레임워크" 라고 공식적으로 알려져 있는데 필자 개인적으로 컨테이너 오케스트레이션이라는 단어를 자주 듣긴 했지만 한번도 정확한 정의가 무엇인지 생각해본적은 없다. 

쿠버네티스 공식 사이트에서는 "컨테이너화 된 애플리케이션의 배포, 확장 및 관리의 자동화" 를 컨테이너 오케스트레이션이라고 정의하고 있다. 

이러한 쿠버네티스의 원천은 Borg 라는 구글 내부에서 사용하던 대형 클러스터 관리 시스템인데,  [관련 논문](https://research.google/pubs/pub43438/) 을 보면 15년 가까이 되는 시간동안 대형 컨테이너 시스템을 관리하면서 얻은 교훈들에 기반하여 쿠버네티스를 개발하게 되었다고 한다.

## 쿠버네티스의 이점 및 속성
쿠버네티스의 이점 및 사용목적은 수없이 많지만 대표적인것만 보자면

-   모놀리식 아키텍쳐에서 마이크로서비스 아키텍쳐로의 마이그레이션
-   수백개의 소형 컨테이너로 구성된 어플리케이션에 대한 관리
-   여러 호스트에 대한 컨테이너 연결, 확장, 배포, 서비스 검색 및 접근

정도가 있다고 할 수 있다. 이를 속성으로 바꾸어 보면

-   고 가용성 (High Availability)
-   확장성 (Scalability)
-   재해 복구 (Damage Resistance)

이라고 할 수 있는데 모두 안정적인 서비스 운영을 위해서 중요한 속성이기에 쿠버네티스는 안정적인 서비스 운영을 위한 도구라고 생각할 수 있다.

## 쿠버네티스의 아키텍쳐
쿠버네티스의 아키텍쳐는 크게 마스터노드와 워커노드로 나눌 수 있다.
* 마스터노드
	마스터 노드의 기능으로는 **컨테이너의 프로세스를 실행하는데 필요한 여러 쿠버네티스 프로세스가 운영되는 노드**라고 할 수 있다. 대표적인 구성요소는 아래와 같다
	- **컨트롤러메니저**는 마스터 노드에 포함되어 클러스터의 상태를 추적한다. (예: Pods 가 죽을 때 감지)
	-  **스케줄러** 는  Pods의 배치를 보장하는 역할을 함 (나중에 Pods에 대해 자세히 설명).
	-  **ETCD 데이터베이스**는 쿠버네티스 클러스터의 상태를 보유하는 키-값 스토리지로써 상태관리 데이터베이스로써 작동한다
	- **가상 네트워크** 는 클러스터의 모든 노드를 연결하는 역할을 한다.
* 워커노드
	* 다양한 애플리케이션의 컨테이너를 포함한다. 해당 노드에서 실제로 유저가 가동하고자 하는 어플리케이션이 작동된다

워커노드가 실질적으로 어플리케이션이 작동되는 노드이기 때문에 통상적으로 마스터노드보다 워커노드가 커지도록 아키텍쳐 구성을 한다.

또한 일반적으로 쿠버네티스의 목적이 컨테이너 오케스트레이션이기에 여러 노드를 병렬 구성하는것이 일반적이다.


### Pods란?
위에서 Pods 라는 개념에 대해 이야기 하는데, 파드(Pods) 는  쿠버네티스에서  생성하고  관리할  수  있는  배포  가능한  가장  작은  컴퓨팅  단위이다. 이는 **하나 이상의 컨테이너의 집합** 인데, 쉽게 말하면 하나의 컨테이너 그룹의 개념으로써 네트워크,스토리지,컨테이너 구동 방식에 대한 명세를 서로 공유한다. 파드 내의 컨테이너들은 항상 같이 배치되고, 함께 스케쥴 되는것이 일반적이다.
> 도커의 개념으로 보았을때 파드는 공유 네임스페이스와 공유 파일시스템 볼륨이 있는 도커 컨테이너 그룹이라고 볼 수 있다.

실제로 쿠버네티스 클러스터에 컨테이너를 생성하진 않지만, 컨테이너에 대한 상위 계층인 파드만 쿠버네티스에서 관리하게 된다.

그러나 파드는 생명주기가 그렇게 길지 않은 단위로써, 일반적으로 파드가 죽을때 마다 생성되고 새 IP 주소를 얻게 된다. 

> 이 문제를 해결하기 위해 파드의 상위 개념인 서비스를 사용해 파드에 아이피를 할당하면 된다. 서비스에 대한 추가적인 개념설명이 필요하다면 [공식문서](https://kubernetes.io/ko/docs/concepts/services-networking/service/)를 참고하는것을 권장한다

이러한 아키텍쳐를 구성하기 위해서는 YAML 파일을 사용해서 구성을 명세하고, 마스터 노드의 API 서버에서 반영하여 적용할 수 있다.

개발자가 실제로 쿠버네티스를 사용하기 위한 워크플로우는 아래와 같다.
1.  애플리케이션을 기반으로 Docker 이미지 제작
2.  Docker 및 Kubernetes 를 사용한 환경 구성
3.   Docker 이미지를 빌드, 테스트 및 확인하는 CI 파이프 라인 구성
4. (optional) 롤링 업데이트 및 롤백을 수행 할 수 있어야하며 더 이상 필요하지 않을 때 리소스를 해체 할 수 있어야 함

이 글에서는 쿠버네티스의 개념, 장점과 목적, 쿠버네티스의 아키텍쳐와 파드의 개념에 대해서 다루어 보았다. 다음 글에서는 쿠버네티스의 아키텍쳐에 대해 조금 더 깊게 다루어 보도록 하겠다.
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTI3ODU3NjY5Myw3OTU4MTAxMDMsLTgyMT
QzNzcsODQyMTk3Mjk4XX0=
-->